"use strict";(self.webpackChunkXYZ=self.webpackChunkXYZ||[]).push([[214],{15218:function(e,a,r){r.r(a),r.d(a,{default:function(){return h}});var s=r(74165),n=r(15861),t=r(4942),c=r(1413),l=r(70885),i=r(72791),o=r(583),u=r(34129),m=(r.p,r.p,r(25810)),d=r(19438),p=r(80184);var h=function(){var e=(0,i.useState)(!1),a=(0,l.Z)(e,2),r=a[0],h=a[1],f=(0,i.useContext)(o.St),v=f.loginUser,x=f.loggedInCheck,b=(0,i.useState)({token:"",image:""}),g=(0,l.Z)(b,2),j=g[0],N=g[1],k=(0,i.useState)({captchaToken:"",captchaValue:"",username:"",password:""}),Z=(0,l.Z)(k,2),w=Z[0],y=Z[1],C=function(e){y((0,c.Z)((0,c.Z)({},w),{},(0,t.Z)({},e.target.name,e.target.value)))},S=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(a){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),a.preventDefault(),e.prev=2,e.next=5,(0,o.L5)("captcha.php");case 5:r=e.sent,console.log(r),N({token:r.token,image:r.image}),y((0,c.Z)((0,c.Z)({},w),{},{captchaToken:r.token})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),(0,u.N)("error","Error","Server Error!");case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(a){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,(0,o.L5)("captcha.php");case 4:a=e.sent,console.log(a),N({token:a.token,image:a.image}),y((0,c.Z)((0,c.Z)({},w),{},{captchaToken:a.token})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,u.N)("error","Error","Server Error!");case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var E=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(a){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),a.preventDefault(),console.log(w),Object.values(w).every((function(e){return""!==e.trim()}))){e.next=9;break}return(0,u.N)("error","Error","Please Fill in all Required Fields! in"),h(!1),e.abrupt("return");case 9:return e.next=11,v(w);case 11:if(r=e.sent,console.log(r),!r.Success){e.next=20;break}return h(!1),a.target.reset(),e.next=18,x();case 18:e.next=22;break;case 20:(0,u.N)("error","Error",r.message),h(!1);case 22:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Z,{}),(0,p.jsx)("div",{className:"signin bg-gray-50 mt-5 mb-5",style:{backgroundColor:"white"},children:(0,p.jsx)("div",{className:"container-base container",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"cust-card col",children:(0,p.jsxs)("div",{className:"card-base card",children:[(0,p.jsx)("div",{className:"text-center card-header",children:(0,p.jsx)("h1",{className:"apts-signIn-title",children:"Sign in"})}),r?(0,p.jsx)("div",{className:"row mx-0",style:{height:"300px",width:"500px"},children:(0,p.jsx)(m.Z,{cssOverride:{display:"flex",justifyContent:"center",alignItems:"center"}})}):(0,p.jsxs)("form",{onSubmit:E,autocomplete:"off",className:"",children:[(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("label",{className:"form-label",for:"formBasicEmail",children:"Username"}),(0,p.jsx)("input",{name:"username",autocomplete:"off",placeholder:"Username",required:!0,type:"text",value:w.username,onChange:C,className:"form-control"}),(0,p.jsx)("div",{className:"invalid-feedback"})]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:"Password"}),(0,p.jsx)("input",{name:"password",autocomplete:"off",placeholder:"Password",required:!0,type:"password",id:"password",className:"form-control",value:w.password,onChange:C}),(0,p.jsx)("div",{className:"invalid-feedback"})]}),(0,p.jsxs)("div",{className:"mb-3 row",children:[(0,p.jsxs)("div",{className:"col",children:[(0,p.jsx)("img",{src:"data:image/jpeg;base64,".concat(j.image),alt:"captcha",className:"mb-3"}),(0,p.jsx)("a",{className:"btn btn-sharp",onClick:S,children:(0,p.jsx)("i",{className:"fas fa-sync"})})]}),(0,p.jsxs)("div",{className:"my-auto col-md-5",children:[(0,p.jsx)("input",{name:"captchaValue",placeholder:"Enter Captcha",autocomplete:"off",required:!0,type:"text",id:"captchaValue",className:"form-control",value:w.captchaValue,onChange:C}),(0,p.jsx)("div",{className:"invalid-feedback"})]})]}),(0,p.jsx)("button",{type:"submit",className:"btn-md mb-4 w-100 btn btn-primary",children:"Submit"})]})]})})})})})]})}}}]);
//# sourceMappingURL=214.0296fb5f.chunk.js.map